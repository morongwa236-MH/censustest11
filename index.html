<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Our Lady of Fatima Shrine - Census Form</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Additional styles to fix layout issues */
        .loading {
            opacity: 0.6;
            pointer-events: none;
        }
        
        .form-section {
            margin-bottom: 20px;
        }
        
        .subsection {
            background: #f8f9fa;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
        }
        
        .conditional-fields {
            margin-top: 10px;
            padding: 10px;
            background: white;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Our Lady of Fatima Shrine</h1>
            <h2>Household Census Form</h2>
        </header>

        <form id="censusForm">
            <!-- Household Information Section -->
            <section id="household-section" class="form-section">
                <h3>Household Information</h3>
                <div class="form-group">
                    <label for="blockName">Block Name *</label>
                    <input type="text" id="blockName" name="blockName" required>
                </div>
                <div class="form-group">
                    <label for="residentialAddress">Residential Address *</label>
                    <textarea id="residentialAddress" name="residentialAddress" rows="3" required></textarea>
                </div>
                <div class="form-group">
                    <label for="contactNo">Contact Number *</label>
                    <input type="tel" id="contactNo" name="contactNo" required>
                </div>
            </section>

            <!-- Members Information Section -->
            <section id="members-section" class="form-section">
                <h3>Household Members</h3>
                <div id="members-container">
                    <!-- Member forms will be added here dynamically -->
                </div>
                <button type="button" id="add-member-btn" class="btn-secondary">Add Another Member</button>
            </section>

            <!-- Children Information Section -->
            <section id="children-section" class="form-section">
                <h3>Children in Household</h3>
                <div id="children-container">
                    <!-- Child forms will be added here dynamically -->
                </div>
                <button type="button" id="add-child-btn" class="btn-secondary">Add Another Child</button>
            </section>

            <div class="form-actions">
                <button type="submit" id="submit-btn" class="btn-primary">Submit Census Data</button>
                <button type="reset" class="btn-secondary">Reset Form</button>
            </div>
        </form>

        <div id="success-message" class="hidden">
            <h3>Thank you for submitting your household information!</h3>
            <p>Your data has been successfully recorded.</p>
        </div>

        <div id="error-message" class="hidden" style="background-color: #f8d7da; color: #721c24; padding: 15px; border-radius: 5px; margin-top: 20px;">
            <h3>Error Submitting Form</h3>
            <p id="error-text"></p>
        </div>
    </div>

    <!-- Templates for dynamic form sections -->
    <template id="member-template">
        <div class="member-form" style="border: 1px solid #ddd; padding: 15px; margin: 10px 0; border-radius: 5px; background: white;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                <h4 style="margin: 0; color: #4a6741;">Member Information</h4>
                <button type="button" class="remove-btn" style="background: #dc3545; color: white; border: none; padding: 5px 10px; border-radius: 3px; cursor: pointer;">Remove</button>
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                <div class="form-group">
                    <label>First Name *</label>
                    <input type="text" class="member-firstName" required style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                </div>
                <div class="form-group">
                    <label>Last Name *</label>
                    <input type="text" class="member-lastName" required style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                </div>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                <div class="form-group">
                    <label>Date of Birth *</label>
                    <input type="date" class="member-dateOfBirth" required style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                </div>
                <div class="form-group">
                    <label>Catholic? *</label>
                    <select class="member-catholic" required style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                        <option value="">Select</option>
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </select>
                </div>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                <div class="form-group">
                    <label>Occupation</label>
                    <input type="text" class="member-occupation" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                </div>
                <div class="form-group">
                    <label>Church Activities</label>
                    <input type="text" class="member-churchActivities" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                </div>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                <div class="form-group">
                    <label>Solidarity/Ministry</label>
                    <input type="text" class="member-solidarityMinistry" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                </div>
                <div class="form-group">
                    <label>Leadership</label>
                    <input type="text" class="member-leadership" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                </div>
            </div>

            <!-- Baptism Sub-section -->
            <div class="subsection">
                <h5 style="color: #4a6741; margin-bottom: 15px;">Baptism Information</h5>
                <div style="margin-bottom: 15px;">
                    <div class="form-group">
                        <label>Baptised?</label>
                        <select class="member-baptised" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                            <option value="">Select</option>
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                        </select>
                    </div>
                </div>
                <div class="baptism-details conditional-fields hidden">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                        <div class="form-group">
                            <label>Date of Baptism</label>
                            <input type="date" class="member-dateOfBaptism" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                        </div>
                        <div class="form-group">
                            <label>Registration Number</label>
                            <input type="text" class="member-baptismRegistrationNo" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                        </div>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div class="form-group">
                            <label>Church of Baptism</label>
                            <input type="text" class="member-baptismChurch" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                        </div>
                        <div class="form-group">
                            <label>Location of Church</label>
                            <input type="text" class="member-baptismLocation" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                        </div>
                    </div>
                </div>
            </div>

            <!-- First Communion Sub-section -->
            <div class="subsection">
                <h5 style="color: #4a6741; margin-bottom: 15px;">First Communion Information</h5>
                <div style="margin-bottom: 15px;">
                    <div class="form-group">
                        <label>1st Communion?</label>
                        <select class="member-firstCommunion" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                            <option value="">Select</option>
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                        </select>
                    </div>
                </div>
                <div class="communion-details conditional-fields hidden">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div class="form-group">
                            <label>Date of 1st Communion</label>
                            <input type="date" class="member-dateFirstCommunion" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                        </div>
                        <div class="form-group">
                            <label>Church of 1st Communion</label>
                            <input type="text" class="member-firstCommunionChurch" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Confirmation Sub-section -->
            <div class="subsection">
                <h5 style="color: #4a6741; margin-bottom: 15px;">Confirmation Information</h5>
                <div style="margin-bottom: 15px;">
                    <div class="form-group">
                        <label>Confirmed?</label>
                        <select class="member-confirmation" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                            <option value="">Select</option>
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                        </select>
                    </div>
                </div>
                <div class="confirmation-details conditional-fields hidden">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div class="form-group">
                            <label>Date of Confirmation</label>
                            <input type="date" class="member-dateOfConfirmation" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                        </div>
                        <div class="form-group">
                            <label>Church of Confirmation</label>
                            <input type="text" class="member-confirmationChurch" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Marital Status Sub-section -->
            <div class="subsection">
                <h5 style="color: #4a6741; margin-bottom: 15px;">Marital Information</h5>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                    <div class="form-group">
                        <label>Marital Status</label>
                        <select class="member-maritalStatus" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                            <option value="">Select</option>
                            <option value="Single">Single</option>
                            <option value="Married">Married</option>
                            <option value="Widow">Widow</option>
                            <option value="Widower">Widower</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Divorced?</label>
                        <select class="member-divorced" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                            <option value="">Select</option>
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                        </select>
                    </div>
                </div>
                <div class="marital-details conditional-fields hidden">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                        <div class="form-group">
                            <label>Civil Court Marriage Date</label>
                            <input type="date" class="member-civilCourtMarriageDate" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                        </div>
                        <div class="form-group">
                            <label>Church Marriage Date</label>
                            <input type="date" class="member-churchMarriageDate" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                        </div>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                        <div class="form-group">
                            <label>Church Marriage Place</label>
                            <input type="text" class="member-churchMarriagePlace" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Dikabelo Sub-section -->
            <div class="subsection">
                <h5 style="color: #4a6741; margin-bottom: 15px;">Dikabelo Information</h5>
                <div style="margin-bottom: 15px;">
                    <div class="form-group">
                        <label>Dikabelo?</label>
                        <select class="member-dikabelo" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                            <option value="">Select</option>
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                        </select>
                    </div>
                </div>
                <div class="dikabelo-details conditional-fields hidden">
                    <div style="display: grid; grid-template-columns: 1fr; gap: 15px;">
                        <div class="form-group">
                            <label>Date of Last Dikabelo</label>
                            <input type="date" class="member-dateLastDikabelo" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <template id="child-template">
        <div class="child-form" style="border: 1px solid #ddd; padding: 15px; margin: 10px 0; border-radius: 5px; background: white;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                <h4 style="margin: 0; color: #4a6741;">Child Information</h4>
                <button type="button" class="remove-btn" style="background: #dc3545; color: white; border: none; padding: 5px 10px; border-radius: 3px; cursor: pointer;">Remove</button>
            </div>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                <div class="form-group">
                    <label>First Name *</label>
                    <input type="text" class="child-firstName" required style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                </div>
                <div class="form-group">
                    <label>Last Name *</label>
                    <input type="text" class="child-lastName" required style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                </div>
                <div class="form-group">
                    <label>Date of Birth *</label>
                    <input type="date" class="child-dateOfBirth" required style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                </div>
            </div>

            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                <div class="form-group">
                    <label>Age</label>
                    <input type="number" class="child-age" min="0" max="18" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                </div>
                <div class="form-group">
                    <label>Catholic?</label>
                    <select class="child-catholic" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                        <option value="">Select</option>
                        <option value="Yes">Yes</option>
                        <option value="No">No</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Church Activities</label>
                    <input type="text" class="child-churchActivities" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                </div>
            </div>

            <!-- Baptism Sub-section -->
            <div class="subsection">
                <h5 style="color: #4a6741; margin-bottom: 15px;">Baptism Information</h5>
                <div style="margin-bottom: 15px;">
                    <div class="form-group">
                        <label>Baptised?</label>
                        <select class="child-baptised" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                            <option value="">Select</option>
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                        </select>
                    </div>
                </div>
                <div class="child-baptism-details conditional-fields hidden">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px;">
                        <div class="form-group">
                            <label>Date of Baptism</label>
                            <input type="date" class="child-dateOfBaptism" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                        </div>
                        <div class="form-group">
                            <label>Registration Number</label>
                            <input type="text" class="child-baptismRegistrationNo" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                        </div>
                    </div>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div class="form-group">
                            <label>Church of Baptism</label>
                            <input type="text" class="child-baptismChurch" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                        </div>
                        <div class="form-group">
                            <label>Location of Church</label>
                            <input type="text" class="child-baptismLocation" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                        </div>
                    </div>
                </div>
            </div>

            <!-- First Communion Sub-section -->
            <div class="subsection">
                <h5 style="color: #4a6741; margin-bottom: 15px;">First Communion Information</h5>
                <div style="margin-bottom: 15px;">
                    <div class="form-group">
                        <label>1st Communion?</label>
                        <select class="child-firstCommunion" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                            <option value="">Select</option>
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                        </select>
                    </div>
                </div>
                <div class="child-communion-details conditional-fields hidden">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div class="form-group">
                            <label>Date of 1st Communion</label>
                            <input type="date" class="child-dateFirstCommunion" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                        </div>
                        <div class="form-group">
                            <label>Church of 1st Communion</label>
                            <input type="text" class="child-firstCommunionChurch" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Confirmation Sub-section -->
            <div class="subsection">
                <h5 style="color: #4a6741; margin-bottom: 15px;">Confirmation Information</h5>
                <div style="margin-bottom: 15px;">
                    <div class="form-group">
                        <label>Confirmed?</label>
                        <select class="child-confirmation" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                            <option value="">Select</option>
                            <option value="Yes">Yes</option>
                            <option value="No">No</option>
                        </select>
                    </div>
                </div>
                <div class="child-confirmation-details conditional-fields hidden">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div class="form-group">
                            <label>Date of Confirmation</label>
                            <input type="date" class="child-dateOfConfirmation" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                        </div>
                        <div class="form-group">
                            <label>Church of Confirmation</label>
                            <input type="text" class="child-confirmationChurch" style="width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px;">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </template>

    <script src="script.js"></script>
</body>
</html>
